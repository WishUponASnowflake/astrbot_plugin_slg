from typing import Dict, List

# 建筑与资源映射
BUILDING_TO_RESOURCE = {
    "farm": "grain",      # 农田 -> 粮食
    "bank": "gold",       # 钱庄 -> 金钱
    "quarry": "stone",    # 采石场 -> 石头
    "barracks": "troops", # 军营 -> 军队
}
# 中文别名映射（命令里用）
BUILDING_ALIASES = {
    "农田": "farm", "钱庄": "bank", "采石场": "quarry", "军营": "barracks",
}
RESOURCE_CN = {"grain": "粮食", "gold": "金钱", "stone": "石头", "troops": "军队"}

MAX_LEVEL = 10
MINUTE = 60

# 每分钟产出（索引=等级，0档不用）
from typing import Dict, List

# === Rebalanced numbers targeting ~2.3 days ===

# 每分钟产出（保持原表）
PRODUCTION_PER_MIN: Dict[str, List[int]] = {
    "grain":  [0, 5, 8, 12, 17, 23, 30, 38, 47, 57, 68],
    "gold":   [0, 3, 5, 7, 10, 13, 17, 22, 28, 35, 43],
    "stone":  [0, 2, 4, 6, 9, 12, 16, 21, 27, 34, 42],
    "troops": [0, 1, 1, 2, 3, 4, 6, 8, 11, 15, 20],
}

# 资源上限（已调整：在等级 L 时可攒满升级到 L+1 所需的“该资源”×1.05）
CAPACITY_PER_LEVEL: Dict[str, List[int]] = {
    "grain":  [0, 540, 890, 1340, 1880, 2510, 3220, 4030, 4920, 6050, 7180],
    "gold":   [0, 450, 770, 1170, 1620, 2150, 2780, 3500, 4300, 5200, 6100],
    "stone":  [0, 630, 1120, 1710, 2370, 3140, 3990, 4940, 5960, 7080, 8200],
    "troops": [0, 200, 300, 400, 540, 770, 1030, 1340, 1700, 2110, 2520],
}

# 升级成本：到达目标等级 L 的一次性成本（index=L）
# 固定石头成本（等比缩放并四舍五入到 10）
UPGRADE_STONE_COST: Dict[str, List[int]] = {
    "farm":     [0, 0, 170, 340, 510, 730, 980, 1280, 1620, 2050, 2560],
    "bank":     [0, 0, 210, 380, 600, 850, 1150, 1490, 1880, 2300, 2820],
    "quarry":   [0, 0, 260, 470, 730, 1020, 1370, 1750, 2180, 2650, 3160],
    "barracks": [0, 0, 300, 510, 770, 1070, 1410, 1790, 2220, 2690, 3200],
}

# 资源自身成本（等比缩放并四舍五入到 10）
# 注意：采石场的石头成本 = 上面固定石头成本 + 这里 stone 的自身成本
UPGRADE_RESOURCE_COST: Dict[str, List[int]] = {
    "grain":  [0, 0, 510, 850, 1280, 1790, 2390, 3070, 3840, 4690, 5760],
    "gold":   [0, 0, 430, 730, 1110, 1540, 2050, 2650, 3330, 4100, 4950],
    "stone":  [0, 0, 340, 600, 900, 1240, 1620, 2050, 2520, 3030, 3580],
    "troops": [0, 0, 130, 210, 340, 510, 730, 980, 1280, 1620, 2010],
}

